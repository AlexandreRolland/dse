<script>
    const socket = io("https://dse-o4si01tiq-alexandrerollands-projects.vercel.app"); // Remplace par l'URL correcte

    const ctx = document.getElementById("myChart").getContext("2d");
    const myChart = new Chart(ctx, {
        type: "bar",
        data: {
            labels: ["Barre 1", "Barre 2", "Barre 3"],
            datasets: [
                {
                    label: "Valeurs",
                    data: [0, 0, 0],
                    backgroundColor: ["red", "blue", "green"],
                },
            ],
        },
        options: {
            responsive: true,
        },
    });

    // Log pour les données mises à jour
    socket.on("updateBars", (data) => {
        console.log("[Client] Données reçues pour mise à jour :", data);
        myChart.data.datasets[0].data = data;
        myChart.update();
    });

    // Log en cas d'erreur de connexion au WebSocket
    socket.on("connect_error", (err) => {
        console.error("[Client] Erreur de connexion Socket.io :", err);
    });
</script>
